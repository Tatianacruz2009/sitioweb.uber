"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[2958],{46135:(e,i,t)=>{t.d(i,{$:()=>n,PP:()=>s,Yp:()=>a,hq:()=>l,qT:()=>r});const n="__wrapper",a=[{id:"click",label:"Click"},{id:"load",label:"Load"},{id:"visible",label:"Visible"},{id:"submit",label:"Submit"}],s={CLICK:"click",LOAD:"load",SUBMIT:"submit",VISIBLE:"visible"},l="loggedInState",r=["fd796b38-76c7-4ecc-bb27-f20128c696b7"]},73992:(e,i,t)=>{t.d(i,{Ay:()=>k});var n=t("__fusion__95b4ba69e5"),a=t(90417),s=t(43065),l=t(95616),r=t(28313),o=t(3911),c=t(14586),d=t(54190),g=t(43356),u=t(56216),h=t(47633),m=t(98819),p=t(40014);const b=e=>{let{children:i}=e;const[t,n]=(0,s.c6)();return(0,p.Y)("li",{className:t({background:n.colors.backgroundSecondary,borderRadius:n.borders.radius300,display:"inline-block",listStyle:"none",marginBottom:n.sizing.scale650,verticalAlign:"top",width:"100%",[n.mediaQuery.medium]:{width:"calc((100% - ".concat(n.sizing.scale950,")/2)"),..."rtl"===n.direction?{marginLeft:n.sizing.scale650,":nth-child(2n)":{marginLeft:0}}:{marginRight:n.sizing.scale650,":nth-child(2n)":{marginRight:0}}},[n.mediaQuery.large]:{width:"calc((100% - ".concat(n.sizing.scale950,")/3)"),..."rtl"===n.direction?{marginLeft:n.sizing.scale650,":nth-child(2n)":{marginLeft:n.sizing.scale650},":nth-child(3n)":{marginLeft:0}}:{marginRight:n.sizing.scale650,":nth-child(2n)":{marginRight:n.sizing.scale650},":nth-child(3n)":{marginRight:0}}}}),children:i})},y=e=>{let{primaryText:i,secondaryText:t,imageUrl:n,ctaText:a,onClick:l,url:r,openInNewTab:o,type:c}=e;const[d,g]=(0,s.c6)(),y=d({WebkitBoxOrient:"vertical",WebkitLineClamp:3,display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis"});return(0,p.Y)(b,{children:(0,p.FD)("a",{className:d({alignItems:"center",display:"flex",justifyContent:"space-between",padding:g.sizing.scale600,textDecoration:"none"}),"data-funnel":"rider-redirection",href:r,onClick:()=>null==l?void 0:l(c),children:[(0,p.FD)("div",{className:d({alignSelf:"stretch",display:"flex",flexDirection:"column",justifyContent:"space-between"}),children:[(0,p.FD)("div",{children:[(0,p.Y)(m.w_,{children:i}),t&&(0,p.Y)(m.iD,{className:y,marginBottom:g.sizing.scale300,marginTop:g.sizing.scale300,paddingRight:g.sizing.scale300,title:t,children:t})]}),a&&(0,p.Y)(u.A,{$as:"div","aria-hidden":"true",kind:h.Nd.secondary,overrides:{BaseButton:{style:e=>{let{$theme:i}=e;return{backgroundColor:i.colors.white,width:"fit-content"}}}},shape:h.IW.pill,size:h.SK.compact,target:o?"_blank":"_self",children:a})]}),(0,p.Y)("img",{alt:i,className:d({height:g.sizing.scale3200,objectFit:"contain",width:g.sizing.scale3200}),src:n})]})})};var f=t(60255);const w=()=>{const[e,i]=(0,s.c6)();return(0,p.Y)(b,{children:(0,p.FD)("div",{className:e({alignItems:"center",boxSizing:"border-box",display:"flex",justifyContent:"space-between",padding:i.sizing.scale600,width:"100%"}),children:[(0,p.FD)("div",{children:[(0,p.Y)(f.A,{overrides:{Row:{style:{height:"100px",marginBottom:i.sizing.scale650}}},rows:1,width:"100px",animation:!0}),(0,p.Y)(f.A,{rows:2,width:"120px",animation:!0}),(0,p.Y)(f.A,{height:"40px",overrides:{Root:{style:{borderRadius:"20px",marginTop:i.sizing.scale650}}},width:"100px",animation:!0})]}),(0,p.Y)(f.A,{height:i.sizing.scale3200,width:i.sizing.scale3200,animation:!0})]})})};var x=t(17070);const v=e=>{let{children:i,enabled:t}=e;const[n,s]=(0,a.useState)(0),l=n>0?"".concat(n,"px"):"auto";return(0,p.Y)(x.A,{ref:e=>{e&&t&&s((i=>Math.max(i,e.clientHeight)))},minHeight:l,children:i})},Y=(0,s.I4)("h2",(e=>{let{$theme:i}=e;return{...i.typography.HeadingMedium,marginTop:0,[i.mediaQuery.medium]:{...i.typography.HeadingLarge},[i.mediaQuery.large]:{...i.typography.HeadingXLarge}}})),k=e=>{let{suggestions:i=[],isLoading:t=!1,title:u="",ctaText:h="",onClick:m=()=>{},openInNewTab:b=!1,usePaginationOnMobile:f,elementsPerPageOnMobile:x,showTilesOnMobile:k,...z}=e;const[N]=(0,s.c6)(),[T,C]=n.useState(1),{totalSuggestionsNumber:S,pageSuggestionsNumber:_,numPages:L}=(0,a.useMemo)((()=>{const e=(null==i?void 0:i.length)||0;if(!e)return{numPages:0,pageSuggestionsNumber:0,totalSuggestionsNumber:0};const t=f&&x||e;return{numPages:Math.ceil(e/t),pageSuggestionsNumber:t,totalSuggestionsNumber:e}}),[x,null==i?void 0:i.length,f]),{trackCoreFlowLatency:I}=(0,a.useContext)(r.P),F={isLoading:Boolean(t),openInNewTab:b,removeTopPadding:!0,suggestions:i,tileView:k};(0,a.useEffect)((()=>{!t&&S&&(null==I||I("rider","product-suggestions"))}),[I,t,S]);const P=N({alignItems:"stretch",display:"flex",flexWrap:"wrap",margin:0,padding:0});if(t)return(0,p.Y)(o.Z,{...z,children:(0,p.FD)(c.E,{children:[u&&(0,p.Y)(Y,{children:u}),(0,p.FD)("ul",{className:P,children:[(0,p.Y)(w,{}),(0,p.Y)(w,{}),(0,p.Y)(w,{})]})]})});if(!S)return null;const D=(e,t)=>(0,a.createElement)(y,{...e,key:e.primaryText,ctaText:h,openInNewTab:b,type:e.type,onClick:e=>{m(e,"".concat(t+1,"-").concat(i.length))}});return(0,p.Y)(o.Z,{...z,children:(0,p.FD)(c.E,{children:[u&&(0,p.Y)(Y,{children:u}),(0,p.Y)(d.qp,{children:(0,p.Y)("ul",{className:P,children:i.map(D)})}),(0,p.Y)(d.mL,{children:k?(0,p.Y)(g.h,{...F}):(0,p.FD)(p.FK,{children:[(0,p.Y)(v,{enabled:f,children:(0,p.Y)("ul",{className:P,children:i.slice((T-1)*_,T*_).map(D)})}),f&&L>1&&(0,p.Y)("div",{className:N({display:"flex",justifyContent:"center"}),children:(0,p.Y)(l.A,{currentPage:T,numPages:L,size:"compact",onPageChange:e=>{let{nextPage:i}=e;C(Math.min(Math.max(i,1),L))}})})]})})]})})}},__fusion__0f7e3e03d3:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var n=t("__fusion__95b4ba69e5"),a=t(43065),s=t(45464),l=t(73992),r=t(20196),o=t(66545),c=t(45822),d=t(40014);const g=(0,s.J)(["product.suggestions.cta","product.suggestions.title"])((e=>{var i;let{translate:t,ctaText:s,title:g,openInNewTab:u,isCustomSort:h,limit:m={},...p}=e;const b=(0,o.xz)(),[,y]=(0,a.c6)(),f=(0,r.U)(y.mediaQuery.large),w=(0,r.U)(y.mediaQuery.medium)&&!f,x=null===(i=f?m.desktop:w?m.tablet:m.mobile)||void 0===i?void 0:i[0],{data:v,loading:Y}=(0,c.BZ)("getProductSuggestions",{type:h?"CUSTOM":"DEFAULT"}),k=n.useMemo((()=>((null==v?void 0:v.suggestions)||[]).slice(0,x)),[null==v?void 0:v.suggestions,x]);return n.useEffect((()=>{k.length&&b("uber-sites:product-suggestions-list",{value_map:{products:k.map((e=>e.type)).join(","),total_products:k.length.toString()}})}),[k,b]),null!=v&&v.error?null:(0,d.Y)(l.Ay,{ctaText:s||t("product.suggestions.cta"),isLoading:Y,openInNewTab:u||!1,suggestions:k,title:g||t("product.suggestions.title"),onClick:(e,i)=>{b("uber-sites:product-suggestion",{value_map:{name:e,position:i}})},...p})}))}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/uber-sites/client-2958-32e7b769b80ee06c.js.map