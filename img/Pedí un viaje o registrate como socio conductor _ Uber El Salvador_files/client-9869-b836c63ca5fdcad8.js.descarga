"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[9869],{__fusion__20ac1f1ba2:(e,n,a)=>{a.r(n),a.d(n,{Navigation:()=>C,NavigationWrapper:()=>k,TYPEAHEAD_DEBOUNCE_MS:()=>b,default:()=>w,handleSiteSearchFieldSubmit:()=>E});var t=a(90417),i=a("__fusion__95b4ba69e5"),r=a(79734),l=a(86850),o=a.n(l),c=a(62952),u=a(69814),s=a(39690),d=a(31827),h=a(12212),v=a("__fusion__174c38ca30"),S=a(5459),_=a(45606),g=a(35259),f=a(86321),p=a(45822),R=a(51409),A=a(21415),m=a(30886),y=a(40014);const b=500;function E(e,n,a,t){var i,r;let{country:l,lang:o}=e;if(!n)return;const c=n.trim(),s=new URLSearchParams(a);s.set(u.zY.QUERY_PARAM,c);const d=null!==(i=null===(r=window)||void 0===r||null===(r=r.location)||void 0===r?void 0:r.origin)&&void 0!==i?i:u.zY.BASE_URL,h=t||u.zY.SEARCH_RESULTS_PAGE_PATH,v="/".concat(l,"/").concat(o,"/").concat(h,"/"),{href:S}=new URL(v+"?"+s,d);return window.location.href=S}const k=e=>{var n,a,l,c;const u=(0,r.zy)(),{country:v,lang:k}=(0,R.C)({pathname:u.pathname}),C=(0,t.useRef)({country:null!=v?v:S.T1,lang:null!=k?k:S.F3}),w=(0,_.A)("url_audience_meta"),I=(0,t.useMemo)((()=>{var n;return(0,m.$0)(w||{},u.pathname,null!==(n=null==e?void 0:e.isDynamicLoginRoutingActive)&&void 0!==n&&n)}),[u.pathname,null==e?void 0:e.isDynamicLoginRoutingActive,w]),L={...e.login,...I?{component:s._.LOGIN_LINK,link:{...null===(n=e.login)||void 0===n?void 0:n.link,href:I}}:{}},N={...e.cta,...I?{component:s._.CTA_LINK,link:{...null===(a=e.cta)||void 0===a?void 0:a.link,href:I}}:{}},{siteSearch:P,searchResults:D,loadSearchResults:T}=e,[H,B]=(0,t.useState)(""),{error:U,loading:Y,results:z}=D||{},O=(0,t.useMemo)((()=>o()(T,b)),[T]);i.useEffect((()=>{O({countryCode:C.current.country,isTypeahead:!0,localeCode:C.current.lang,searchValue:H})}),[H,O]);const{callback:F}=(0,p.A1)("sendClickedObjectIDsAfterSearch"),{searchResultsPagePath:M,searchLanguageOverrides:V}=null!=P?P:{},K=(0,A.A)()===S.e3,j=(0,m.A)({fliprSearchBool:null==z?void 0:z.showSiteSearch,navPropsSearchBool:null===(l=e.siteSearch)||void 0===l?void 0:l.showSiteSearch,searchCountryLang:C,searchLanguageOverrides:V}),x=(0,t.useCallback)((()=>E({country:C.current.country,lang:C.current.lang},H,u.search,M)),[u.search,H,M]),G=(0,g.P)(Boolean(null==e||null===(c=e.loggedInCta)||void 0===c||null===(c=c.link)||void 0===c?void 0:c.text)),Q=(null==e?void 0:e.activeKey)===d.N.RIDER_IDENTITY_HUB&&Boolean(null==e?void 0:e.popper),{personalizedRiderIdentityHub:W}=(0,f.r)(null==e?void 0:e.riderIdentityHub,Q);return(0,y.Y)(h.Vx,{...e,cta:N,login:L,riderIdentityHub:{...W,translations:null==e?void 0:e.rihTranslations,user:null==G?void 0:G.user},siteSearch:{...e.siteSearch,eventEmitters:{isProductionEnv:K,sendClickedObjectIDsAfterSearch:F},navSiteSearchHandlers:{handleSiteSearchFieldSubmit:x},navSiteSearchResults:{data:z,error:U,loading:Y},navSiteSearchState:{navSiteSearchStateValue:H,setNavSiteSearchStateValue:B},showSiteSearch:j},userData:G})},C=(0,m.cX)((0,c.Zz)(v.withNavSearchResults)(k)),w=C}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/uber-sites/client-9869-b836c63ca5fdcad8.js.map