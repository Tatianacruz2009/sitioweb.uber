"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([["legacy-9892"],{__fusion__20ac1f1ba2:function(e,r,t){t.r(r),t.d(r,{Navigation:function(){return D},NavigationWrapper:function(){return C},TYPEAHEAD_DEBOUNCE_MS:function(){return I},handleSiteSearchFieldSubmit:function(){return k}});var n=t(90417),o=t("__fusion__95b4ba69e5"),i=t(27678),a=t(41075),u=t.n(a),l=t(56459),c=t(80887),s=t(37971),f=t(54242),d=t(26366),v=t("__fusion__174c38ca30"),h=t(27426),y=t(78671),S=t(67210),b=t(48414),p=t(16810),g=t(48246),m=t(17910),O=t(9836),_=t(40014);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(u.push(n.value),u.length!==r);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){R(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function R(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==w(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===w(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var I=500;function k(e,r,t,n){var o,i,a=e.country,u=e.lang;if(r){var l=r.trim(),s=new URLSearchParams(t);s.set(c.zY.QUERY_PARAM,l);var f=null!==(o=null===(i=window)||void 0===i||null===(i=i.location)||void 0===i?void 0:i.origin)&&void 0!==o?o:c.zY.BASE_URL,d=n||c.zY.SEARCH_RESULTS_PAGE_PATH,v="/".concat(a,"/").concat(u,"/").concat(d,"/"),h=new URL(v+"?"+s,f).href;return window.location.href=h}}var C=function(e){var r,t,a,l,c=(0,i.zy)(),v=(0,g.C)({pathname:c.pathname}),w=v.country,j=v.lang,P=(0,n.useRef)({country:null!=w?w:h.T1,lang:null!=j?j:h.F3}),R=(0,y.A)("url_audience_meta"),C=(0,n.useMemo)((function(){var r;return(0,O.$0)(R||{},c.pathname,null!==(r=null==e?void 0:e.isDynamicLoginRoutingActive)&&void 0!==r&&r)}),[c.pathname,null==e?void 0:e.isDynamicLoginRoutingActive,R]),D=E(E({},e.login),C?{component:s._.LOGIN_LINK,link:E(E({},null===(r=e.login)||void 0===r?void 0:r.link),{},{href:C})}:{}),L=E(E({},e.cta),C?{component:s._.CTA_LINK,link:E(E({},null===(t=e.cta)||void 0===t?void 0:t.link),{},{href:C})}:{}),N=e.siteSearch,T=e.searchResults,H=e.loadSearchResults,U=A((0,n.useState)(""),2),B=U[0],Y=U[1],z=T||{},F=z.error,M=z.loading,V=z.results,x=(0,n.useMemo)((function(){return u()(H,I)}),[H]);o.useEffect((function(){x({countryCode:P.current.country,isTypeahead:!0,localeCode:P.current.lang,searchValue:B})}),[B,x]);var K=(0,p.A1)("sendClickedObjectIDsAfterSearch").callback,G=null!=N?N:{},$=G.searchResultsPagePath,Q=G.searchLanguageOverrides,W=(0,m.A)()===h.e3,X=(0,O.A)({fliprSearchBool:null==V?void 0:V.showSiteSearch,navPropsSearchBool:null===(a=e.siteSearch)||void 0===a?void 0:a.showSiteSearch,searchCountryLang:P,searchLanguageOverrides:Q}),Z=(0,n.useCallback)((function(){return k({country:P.current.country,lang:P.current.lang},B,c.search,$)}),[c.search,B,$]),q=(0,S.P)(Boolean(null==e||null===(l=e.loggedInCta)||void 0===l||null===(l=l.link)||void 0===l?void 0:l.text)),J=(null==e?void 0:e.activeKey)===f.N.RIDER_IDENTITY_HUB&&Boolean(null==e?void 0:e.popper),ee=(0,b.r)(null==e?void 0:e.riderIdentityHub,J).personalizedRiderIdentityHub;return(0,_.Y)(d.Vx,E(E({},e),{},{cta:L,login:D,riderIdentityHub:E(E({},ee),{},{translations:null==e?void 0:e.rihTranslations,user:null==q?void 0:q.user}),siteSearch:E(E({},e.siteSearch),{},{eventEmitters:{isProductionEnv:W,sendClickedObjectIDsAfterSearch:K},navSiteSearchHandlers:{handleSiteSearchFieldSubmit:Z},navSiteSearchResults:{data:V,error:F,loading:M},navSiteSearchState:{navSiteSearchStateValue:B,setNavSiteSearchStateValue:Y},showSiteSearch:X}),userData:q}))},D=(0,O.cX)((0,l.Zz)(v.withNavSearchResults)(C));r.default=D}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/uber-sites/client-legacy-legacy-9892-64bbe52d0c74632a.js.map