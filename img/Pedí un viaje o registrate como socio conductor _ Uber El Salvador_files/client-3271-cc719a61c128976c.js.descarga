"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[3271],{8795:(e,n,t)=>{t.d(n,{Mu:()=>c});const l="click",r="submit",o="visible";var i=t(66504);function u(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{label:l="",category:r="",redirectUrl:o=""}=t;return e.filter((e=>e.eventType===n)).map((e=>{let{selectedCampaigns:t,eventName:i}=e;return{campaignId:Array.isArray(t)&&t[0]?t[0]:null,category:r,eventName:i,eventType:n,label:l,redirectUrl:o}}))}const a=function(e,n,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!(i>=5))return Array.isArray(n[0])?(i++,n.map(((e,n)=>a(n,e,t,i))).filter(Boolean)):((e,n)=>({trackClickEvents:t=>{n(u(e,l,t))},trackSubmitEvents:t=>{n(u(e,r,t))},trackVisibleEvents:t=>{n(u(e,o,t))}}))(n,t)};function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.t;return Object.fromEntries(Object.entries(e).map((e=>{let[t,l]=e;return[t,a(t,l,n)]})))}},__fusion__c9daf94ff6:(e,n,t)=>{t.r(n),t.d(n,{default:()=>A});var l=t(41101),r=t(43065),o=t(3162),i=t(8795);const u="ALWAYS_HIDE",a="ALWAYS_SHOW",c="SHOW_ON_SCREEN_ABOVE_BLOCK",d="SHOW_ON_SCREEN_BELOW_BLOCK";var s=t(90417),v=t(51331),b=t(17968),f=t(41941),h=t(17070),p=t(47633),y=t(56216),k=t(63904),m=t.n(k),g=t(16256);var w=t(40014);const S=e=>{var n,t,l,o,i;const[v,b]=(0,r.c6)(),[f,k]=(()=>{const[e,n]=(0,s.useState)(null),t=(0,s.useRef)((()=>{})),l=(0,s.useCallback)((e=>{"undefined"==typeof window&&"undefined"==typeof document||(t.current=m()((()=>{var t;n(null==e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e))}),100),document.addEventListener("scroll",t.current))}),[]),r=(0,s.useCallback)((()=>{"undefined"==typeof window&&"undefined"==typeof document||document.removeEventListener("scroll",t.current)}),[]);return[(0,g.q)(l,r),e]})(),{visibility:S,buttonSettings:_,containerSettings:C,webAnalytics:E,eventKeyPrefix:A,eventTrackers:x,isLargeScreenUp:N}=e,O=v({boxSizing:"border-box",zIndex:1,...null!=C&&C.showShadow?{boxShadow:"rgba(0, 0, 0, 0.08) 0px -8px 20px 0px"}:null}),L=v({boxSizing:"border-box",width:"100%"}),U=p.Nd[(null==_?void 0:_.kind)||"primary"]||p.Nd.primary,Y=((e,n)=>{switch(e){case a:return!0;case u:return!1;case d:return!!n&&(null==n?void 0:n.top)<=0;case c:var t;return!(!n||"undefined"==typeof window)&&(null==n?void 0:n.top)>=(null===(t=window)||void 0===t?void 0:t.innerHeight)}return!1})(S,k),B=((e,n)=>{const[t,l]=s.useState(!1);return s.useEffect((()=>{if(e)try{var t,r;if(n&&null!==(t=document)&&void 0!==t&&null!==(r=t.querySelector)&&void 0!==r&&null!==(r=r.call(t,n))&&void 0!==r&&r.scrollIntoView)return void l(!0)}catch(e){return void l(!1)}else l(!1)}),[e,n]),t})(null==_?void 0:_.disableUrlUpdate,null==_||null===(n=_.button)||void 0===n?void 0:n.href),H=s.useRef(null);s.useEffect((()=>{var e;Y&&!H.current&&(H.current=!0,null==E||null===(e=E.track)||void 0===e||e.call(E,"".concat(A,"_shown")))}),[A,Y,E]);const I=()=>{var e,n,t,l,r,o;N?null==x||null===(e=x.buttonDesktop)||void 0===e||e.trackClickEvents({category:"1",label:(null==_||null===(n=_.button)||void 0===n?void 0:n.text)||"",redirectUrl:(null==_||null===(t=_.button)||void 0===t?void 0:t.href)||""}):null==x||null===(l=x.buttonMobile)||void 0===l||l.trackClickEvents({category:"1",label:(null==_||null===(r=_.button)||void 0===r?void 0:r.text)||"",redirectUrl:(null==_||null===(o=_.button)||void 0===o?void 0:o.href)||""})},W=B?{onClick:e=>{if(e.preventDefault(),I(),B&&"undefined"!=typeof window)try{var n,t;null===(n=document)||void 0===n||null===(n=n.querySelector(String(null==_||null===(t=_.button)||void 0===t?void 0:t.href)))||void 0===n||n.scrollIntoView({behavior:"smooth"})}catch(e){var l,r;null==E||null===(l=E.track)||void 0===l||l.call(E,"".concat(A,"_error_catch")),window.location=String(null==_||null===(r=_.button)||void 0===r?void 0:r.href)}}}:{$as:"a",href:null==_||null===(t=_.button)||void 0===t?void 0:t.href,onClick:()=>{I()},...null!=_&&null!==(l=_.button)&&void 0!==l&&l.openInNewTab?{target:"_blank"}:null};return(0,w.FD)(w.FK,{children:[(0,w.Y)(h.A,{ref:f,height:"0",width:"100%"}),Y&&(0,w.Y)(h.A,{backgroundColor:b.colors.backgroundPrimary,bottom:"0",className:O,padding:b.sizing.scale600,position:"fixed",width:"100%",children:(0,w.Y)(y.A,{"aria-label":null==_||null===(o=_.button)||void 0===o?void 0:o.ariaLabel,className:L,"data-tracking-name":"".concat(A,"_click"),kind:U,...W,children:null==_||null===(i=_.button)||void 0===i?void 0:i.text})})]})},_=e=>{const{theme:n}=e,t="dark"===n;return(0,w.Y)(v.A,{theme:t?b.a:f.q,children:(0,w.Y)(S,{...e})})},C=e=>{const[,n]=(0,r.c6)(),{mediaQuery:t}=n,{webAnalytics:l,desktopContent:u,mobileContent:a,analyticsEvents:c,analyticsHandler:d}=e,s=(0,o.U)(t.large),v={...s?u:a,eventKeyPrefix:"".concat("cro-sticky-bottom-button","_").concat(s?"desktop":"mobile"),eventTrackers:(0,i.Mu)(c,d),isLargeScreenUp:s,webAnalytics:l};return(0,w.Y)(_,{...v})};var E=t(90411);const A=(0,l.lS)({webAnalytics:E.uU})(C)}}]);
//# sourceMappingURL=https://sourcemaps.uberinternal.com/raw/uber-sites/client-3271-cc719a61c128976c.js.map